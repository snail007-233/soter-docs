<!DOCTYPE html>
<html>
        <head>
                <title>控制器</title>
                <meta charset="UTF-8">
                <meta name="viewport" content="width=device-width, initial-scale=1.0">
                <script src="js/inc.js"></script>
        </head>
        <body>
                <fieldset>
                        <legend>控制器</legend>
                        <ol>
                                <li>
                                        <h2 class="title_h2">存放路径</h2>
                                        控制器文件是放在<code>application/classes/Controller</code>文件夹里面。
                                        <br />classes类目录下的文件类名和它的文件的位置是对应的。
                                        <br />比如有文件：classes/Controller/Vip/User.php
                                        <br />那么User.php文件里面的类名就应该是：Controller_Vip_User,也就是下划线代表着文件夹的分隔符。
                                </li>
                                <li>
                                        <h2 class="title_h2">命名规则</h2>
                                        控制器文件名要对应类名，必须带前缀<code>Controller_</code>，大小写敏感
例如：Controller_Welcome。
                                </li>
                                <li>
                                        <h2 class="title_h2">访问控制器</h2>
                                        控制器访问支持PATH_INFO模式。
                                        <br />下面是个例子：
                                        <br />这里假定控制器文件配置方法url后缀是.do，方法前缀是do，方法名首字母大写不包含前缀。
                                        <br /><b>PATH_INFO</b>模式：http://127.0.0.1/index.php/Welcome/index.do?id=123
                                        <br />说明：
                                        <br />1.这个地址是访问控制器目录下面的<code>classes/Controller/Welcome.php</code>里面的Welcome类的do_index方法。
                                        <br />2.同时传递了一个get变量id，可以通过Sr::get('id');获取123。
                                        <br /><b>GET</b>模式：http://127.0.0.1/index.php?c=Welcome&a=index&id=123 
                                        <br />1.这个地址是访问控制器目录下面的<code>classes/Controller/Welcome.php</code>里面的Welcome类的do_index方法。
                                        <br />2.get模式中c参数是代表控制器，a参数是代码方法。
                                        <br />3.同时传递了一个get变量id，可以通过Sr::get('id');获取123。
                                        <br /> 可以看出两个模式的区别就是index.php后面一个是?一个是/,get方式传递和普通get方式一样，还有get模式请求方法是不用带url后缀而path_info模式是需要带url后缀。
                                        <br />提示：
                                        <br />了解详细的路由手册，点击进入<a href="router.html">路由手册</a>

                                </li>
                                
                                <li>
                                        <h2 class="title_h2">代码规范</h2>
                                        控制器类必须继承<code>Soter_Controller</code>类，类名首字母大写。
                                        <br />示例如下：
                                        <pre class="brush:php">
                                                class Controller_Welcome extends Soter_Controller {

                                                        public function do_index() {
                                                                echo Sr::get('id');
                                                        }
                                                }
                                        </pre>
                                </li>
                                
                                <li>
                                        <h2 class="title_h2">和控制器相关的配置</h2>
                                        配置在入口文件里面
                                        <br />1.默认控制器
                                        <br /><code>->setDefaultController('Welcome')</code>
                                        <br />2.默认方法
                                        <br /><code>->setDefaultController('index')</code>
                                        <br />3.方法前缀
                                        <br /><code>->setMethodPrefix('do_')</code>
                                        <br />4.方法url后缀,比如_do或者.controller.php
                                        <br /><code>->setMethodUriSubfix('.do')</code>
                                        <br />5.当用户在浏览器地址里面只输入了域名，或者hvmc模块。没有输入控制器名称和方法名称。 
                                        <br />那么在这种情况下我们可以设置一个默认的控制器和默认的方法。详细的内容参考<a href="router.html">路由手册</a>
                                </li>
                        </ol>
                </fieldset>
                <script src="js/inc.foot.js"></script>
        </body>
</html>
