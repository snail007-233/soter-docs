<!DOCTYPE html>
<html>
	<head>
		<title>HMVC</title>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<script src="js/inc.js"></script>
	</head>
	<body>
		<fieldset>
			<legend>HMVC</legend>
			<ol>
				<li><h2 class="title_h2">HMVC简介</h2>
					HMVC（Hierarchical-Model-View-Controller），也可以叫做 Layered MVC。
					<br>顾名思义，就是按等级划分的 MVC 模式，简单的解释就是把MVC又细分成了多个子 MVC，
					<br>每个模块就分成一个 MVC。使用 HMVC 的好处就是可以降低各个功能模块之间的耦合性，
					<br>提高代码复用性，使得每个功能都可以独立出来，每个模块都有自己的 MVC 结构。


				</li>
				<li><h2 class="title_h2">HMVC结构</h2>
					Soter的hvmc子模块默认都在application/hmvc目录里面，一个模块一个目录。如果我们要启用一个
					<br>hmvc模块，我们需要在入口文件index.php里面修改下面的配置：
					<pre class="brush:php">
						//注册hmvc模块，数组键是uri里面的hmvc模块名称，值是hmvc模块文件夹名称
						->setHmvcModules(array(
							// 'Demo' => 'demo'
						))
					</pre>
					可以看到数组里面<b>键</b>是我们访问hmvc模块的时候<b class="text_strong">URL里面</b>的hmvc模块名称，
					<br><b>值</b>是hmvc模块的<b class="text_strong">文件夹名称</b>。
					<h3 class="title_h3">1.Soter的HMVC目录结构</h3>
					<pre>
application
	|- classes
		|- Controller
			|- controllers.php
		|- Model
			|- models.php
		|- ...
	|- views
		|- index.php
		|- footer.php
		|- ...
	|- hmvc
		|- hmvc_module1
			|- classes
				|- Controller
					|- controllers.php
				|- Model
					|- models.php
				|- ...
			|- views
				|- index.php
				|- footer.php
				|- ...
			|- ....
		|- hmvc_module2
			|- classes
				|- Controller
					|- controllers.php
				|- Model
					|- models.php
				|- ...
			|- views
				|- index.php
				|- footer.php
				|- ...
			|- ....
		|- ....
					</pre>
				</li>
				<li><h2 class="title_h2">访问HMVC模块</h2>
					当我们在入口文件里面启用了一个hmvc模块之后，默认情况下我们可以通过pathinfo路由模式和get路由模式服务hmvc模块。
					<br>假如我们在入口文件注册了<code>Demo=>demo</code> HMVC模块，url对应名称是Demo。
					<h3 class="title_h3">1.pathinfo模式</h3>
					比如：http://127.0.0.1/index.php/<b>Demo/</b>Welcome/index.do
					<br>可以看到我们只需要在index.php/后面跟上hmvc模块配置的名称即可，这里是Demo，然后后面就是 控制器名称/方法名称.do
					<br>上面的url访问的是demo hmvc模块的Welcome控制器的do_index方法。
					<h3 class="title_h3">2.get模式</h3>
					get模式很简单，我们只需要通过m参数指定hmvc模块配置名称即可。
					<br>比如：http://127.0.0.1/index.php?m=Demo&c=Welcome&a=index
					<br>上面的url访问的是demo hmvc模块的Welcome控制器的do_index方法。
				</li>
			</ol>
		</fieldset>
		<script src="js/inc.foot.js"></script>
	</body>
</html>
